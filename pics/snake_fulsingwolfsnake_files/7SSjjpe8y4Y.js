if (self.CavalryLogger) { CavalryLogger.start_js(["eirZv"]); }

__d("OptimisticVideoPostUtils",["AsyncRequest"],(function(a,b,c,d,e,f){a={shouldShowOptimisticPost:function(a){return a.isScheduledPost||a.isHiddenFromTimeline||a.isSecret||!a.isPageToPage&&!a.isToUserProfile||a.isDraft?!1:!0},checkVideoStatus:function(a,c,d,e){new(b("AsyncRequest"))().setURI("/ajax/video/encode/feedback/ping/").setData({video_id:a}).setHandler(function(b){var f=b.getPayload();b.error||f.error?d(a,b):f.is_ready?c(a):e(a)}).send()}};e.exports=a}),null);
__d("SubscriptionLevels",[],(function(a,b,c,d,e,f){a=Object.freeze({ALL:"162318810514679",DEFAULT:"271670892858696",TOP:"266156873403755"});e.exports=a}),null);
__d("EditSubscriptions",["csx","cx","Arbiter","AsyncRequest","CSS","DOM","Event","FeedBlacklistButton","MenuDeprecated","Parent","SubscriptionLevels","ge","getOrCreateDOMID"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=45,j=[b("SubscriptionLevels").ALL,b("SubscriptionLevels").DEFAULT,b("SubscriptionLevels").TOP],k={},l={},m={},n={},o={},p={},q={},r={},s={},t={},u={},v="/ajax/follow/follow_profile.php",w="/ajax/follow/unfollow_profile.php",x="/ajax/settings/notifications/notify_me.php",y={},z={},A={},B=null,C={};function D(a){return j.includes(a)}function E(a,c,d,e){__p&&__p();e=b("Parent").byClass(e,"uiMenuItem")||b("Parent").bySelector(e,"._54ni");var f=b("getOrCreateDOMID")(a);if(!e||!b("DOM").contains(a,e))return;else if(b("CSS").hasClass(e,"SubscribeMenuSubscribeCheckbox")){m[c]?J(f,c):I(f,c);return!1}else if(b("CSS").hasClass(e,"SubscribeMenuUnsubscribe")){J(f,c);return!1}else if(b("CSS").hasClass(e,"SubscribeMenuSettingsItem")){V(a,!0);return!1}else if(b("CSS").hasClass(e,"SubscriptionMenuGoBack")){V(a,!1);return!1}else if(b("CSS").hasClass(e,"SubscriptionMenuItem")){G(a,c,d,e);return!1}else if(b("CSS").hasClass(e,"SubscribeMenuNotifyMeCheckbox")){F(a,c);return!1}}function F(a,b){n[b]?Z(a,b):Y(a,b)}function G(a,c,d,e){if(b("CSS").hasClass(e,"SubscriptionMenuLevel")){if(b("MenuDeprecated").isItemChecked(e))return;T(a,c,M(e),!0,d)}else b("CSS").hasClass(e,"SubscriptionMenuCategory")?Q(c,e,!b("MenuDeprecated").isItemChecked(e),!0,d):b("CSS").hasClass(e,"SubscriptionAppStory")&&S(c,e,!b("MenuDeprecated").isItemChecked(e),d)}function H(a){return C[a]?C[a]:0}function I(a,c){var d={profile_id:c};b("Arbiter").inform("FollowingUser",d);b("Arbiter").inform(b("FeedBlacklistButton").UNBLACKLIST,d);new(b("AsyncRequest"))().setURI(v).setMethod("POST").setData({profile_id:c,location:H(a)}).setErrorHandler(b("Arbiter").inform.bind(null,"FollowUserFail",d)).send()}function J(a,c){var d={profile_id:c};b("Arbiter").inform("UnfollowingUser",d);b("Arbiter").inform(b("FeedBlacklistButton").BLACKLIST,d);new(b("AsyncRequest"))().setURI(w).setMethod("POST").setData({profile_id:c,location:H(a)}).setErrorHandler(b("Arbiter").inform.bind(null,"UnfollowUserFail",d)).send()}function K(a,c,d){c={profile_id:a,level:r[a],custom_categories:s[a],location:d};new(b("AsyncRequest"))().setURI("/ajax/follow/manage_subscriptions.php").setData(c).send()}function L(a,c){__p&&__p();var d=s[c]||[],e=b("MenuDeprecated").getItems(a);e.forEach(function(a){if(b("CSS").hasClass(a,"SubscriptionMenuCategory")){var e=M(a);d.includes(e)?O(a):P(a)}else if(b("CSS").hasClass(a,"SubscriptionAppStory")){e=M(a);A[c]&&A[c][e]?O(a):P(a)}});T(a,c,r[c],!1)}function M(a){a=b("DOM").scry(a,"input")[0];return a&&a.value}function N(a){return b("DOM").find(a,"a.itemAnchor")}function O(a){b("CSS").addClass(a,"checked"),N(a).setAttribute("aria-checked",!0)}function P(a){b("CSS").removeClass(a,"checked"),N(a).setAttribute("aria-checked",!1)}function Q(a,b,c,d,e){__p&&__p();c?O(b):P(b);b=M(b);if(D(b))c&&R(a,b);else if(c)s[a].includes(b)||s[a].push(b);else{c=s[a].indexOf(b);c!==-1&&s[a].splice(c,1)}d&&K(a,b,e)}function R(a,c){r[a]=c,b("Arbiter").inform("SubscriptionLevelUpdated",{profile_id:a,level:c})}function S(a,c,d,e){e="/ajax/feed/filter_action/";var f=M(c),g={actor_id:a,app_id:f};d?(O(c),e+="resubscribe_user_app/",g.action="resubscribe_user_app",A[a]||(A[a]={}),A[a][f]=!0):(P(c),e+="unsubscribe_user_app_checkbox/",g.action="unsubscribe_user_app_checkbox",A[a]&&(A[a][f]=!1));new(b("AsyncRequest"))().setURI(e).setData(g).send()}function T(a,c,d,e,f){a=b("DOM").scry(a,".SubscriptionMenuLevel");var g=null;a.forEach(function(a){M(a)==d?g=a:b("MenuDeprecated").isItemChecked(a)&&Q(c,a,!1,!1)});g&&Q(c,g,!0,e,f)}function U(a,c,d){m[c]=d;b("CSS").conditionClass(a,"isUnsubscribed",!d);c=b("DOM").scry(a,"li.SubscribeMenuSubscribeCheckbox");if(c.length!==0){a=c[0];d?O(a):P(a)}}function V(a,c){b("CSS").conditionClass(a,"subscriptionMenuOpen",c)}function W(a,c,d){c=b("DOM").find(a,".FriendListSubscriptionsMenu");var e=b("DOM").find(c,".uiMenuInner");B!=null&&B.forEach(function(a){e.removeChild(a)});d.forEach(function(a){e.appendChild(a)});B=d}b("Arbiter").subscribe("UnfollowUser",function(a,b){t[b.profile_id]&&(R(b.profile_id,t[b.profile_id]),s[b.profile_id]=u[b.profile_id].slice())});b("Arbiter").subscribe("UpdateSubscriptionLevel",function(a,c){a=c.profile_id+"";c=c.level+"";R(a,c);var d;for(d in k)if(k[d]===a){var e=b("ge")(d);e&&T(e,a,c,!1)}});b("Arbiter").subscribe("listeditor/close_editor",function(){var a;for(a in k){var c=b("ge")(a);c&&V(c,!1)}});function X(a,c,d){__p&&__p();n[c]=d;c=z[c];if(c){d?c.select():c.deselect();return}c=b("DOM").scry(a,"li.SubscribeMenuNotifyMeCheckbox");if(c.length!==0){c=c[0];b("CSS").conditionShow(c,!0);a=b("DOM").scry(a,"li.SubscribeMenuNotifyMeCheckboxSeparator");a.length>0&&b("CSS").conditionShow(a[0],!0);d?O(c):P(c)}}function Y(a,c){a={profile_id:c};b("Arbiter").inform("EnableNotifsForUser",a);new(b("AsyncRequest"))().setURI(x).setMethod("POST").setData({notifier_id:c,enable:!0}).setErrorHandler(b("Arbiter").inform.bind(null,"EnableNotifsForUserFail",a)).send()}function Z(a,c){a={profile_id:c};b("Arbiter").inform("DisableNotifsForUser",a);new(b("AsyncRequest"))().setURI(x).setMethod("POST").setData({notifier_id:c,enable:!1}).setErrorHandler(b("Arbiter").inform.bind(null,"DisableNotifsForUserFail",a)).send()}c={init:function(a,c,d){__p&&__p();var e=b("getOrCreateDOMID")(a);C[e]=d;k[e]||b("Event").listen(a,"click",function(b){return E(a,k[e],d,b.getTarget())});d===i&&y[c].length&&W(a,c,y[c]);r[c]&&L(a,c);k[e]=c;b("CSS").conditionClass(a,"NonFriendSubscriptionMenu",!l[c]);b("CSS").conditionClass(a,"cannotSubscribe",!o[c]);b("CSS").conditionClass(a,"noSubscriptionLevels",p[c]&&!q[c]);b("CSS").conditionClass(a,"noSubscribeCheckbox",!l[c]&&!p[c]);U(a,c,m[c]);X(a,c,n[c]);b("Arbiter").subscribe(["FollowUser","FollowingUser","UnfollowUserFail"],function(b,d){d.profile_id==c&&U(a,c,!0)}.bind(this));b("Arbiter").subscribe(["UnfollowUser","UnfollowingUser","FollowUserFail"],function(d,e){e.profile_id==c&&(b("Arbiter").inform("SubMenu/Reset"),U(a,c,!1))}.bind(this));b("Arbiter").subscribe(["EnableNotifsForUser","DisableNotifsForUserFail"],function(b,d){d.profile_id==c&&X(a,c,!0)}.bind(this));b("Arbiter").subscribe(["DisableNotifsForUser","EnableNotifsForUserFail"],function(b,d){d.profile_id==c&&X(a,c,!1)}.bind(this));b("Arbiter").subscribe("listeditor/friend_lists_changed",function(b,c){if(c.notify_state){b=c.added_uid?c.added_uid:c.removed_uid;X(a,b,c.notify_state.is_notified)}}.bind(this))},getSubscriptions:function(a){return{level:r[a],custom_categories:s[a]}},registerTimelineNotifySelector:function(a,c){var d=a.getInitialMenu(),e=a.getContentRoot();d.forEachItem(function(a){var d=a.getRoot();b("CSS").hasClass(d,"SubscribeMenuNotifyMeCheckbox")&&(z[c]=a,X(e,c,n[c]))});d.subscribe("itemclick",function(a,b){b.item===z[c]&&F(e,c);return!0})},toggleNotificationsOnJoin:function(a,b){n[a]!==b&&F(null,a)},setSubscriptions:function(a,b,c,d,e,f,g,h,i,j,k,r){R(a,g+""),l[a]=b,m[a]=c,o[a]=d,p[a]=e,q[a]=f,t[a]=i+"",s[a]=h.map(String),u[a]=j.map(String),y[a]=r,n[a]=k}};e.exports=a.EditSubscriptions||c}),null);
__d("PagesIntegrityTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:PagesIntegrityLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:PagesIntegrityLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:PagesIntegrityLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setPageAdminNotified=function(a){this.$1.page_admin_notified=a;return this};a.prototype.setPageID=function(a){this.$1.page_id=a;return this};a.prototype.setPageSurface=function(a){this.$1.page_surface=a;return this};a.prototype.setPostSessionUuid=function(a){this.$1.post_session_uuid=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};c={event:!0,page_admin_notified:!0,page_id:!0,page_surface:!0,post_session_uuid:!0,vc:!0};e.exports=a}),null);
__d("ProfileVideoWWWFrontendActionTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:ProfileVideoWWWFrontendActionLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:ProfileVideoWWWFrontendActionLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:ProfileVideoWWWFrontendActionLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setSessionID=function(a){this.$1.session_id=a;return this};a.prototype.setUploadError=function(a){this.$1.upload_error=a;return this};c={event:!0,session_id:!0,upload_error:!0};e.exports=a}),null);
__d("PagesComposerUnpublishedPostsStore",["ReactComposerStoreBase","PagesComposerActionsTypes"],(function(a,b,c,d,e,f){__p&&__p();var g,h={isDraft:!1,scheduledPublishTime:null,backdateConfig:null,isAdsPost:!1,isReviewableBrandedContent:!1,stopFeedDistributionDate:null,isOfferUpsellShown:!1,isOfferUpsellAbandoned:!1,offerConfig:null};c=babelHelpers.inherits(a,b("ReactComposerStoreBase"));g=c&&c.prototype;function a(){"use strict";__p&&__p();var a;g.constructor.call(this,function(){return Object.assign({},h)},function(c){__p&&__p();switch(c.type){case b("PagesComposerActionsTypes").BACKDATE:a&&a.$PagesComposerUnpublishedPostsStore1(c);break;case b("PagesComposerActionsTypes").SET_DRAFT:a&&a.$PagesComposerUnpublishedPostsStore2(c);break;case b("PagesComposerActionsTypes").SCHEDULE:a&&a.$PagesComposerUnpublishedPostsStore3(c);break;case b("PagesComposerActionsTypes").SET_ADS_POST:a&&a.$PagesComposerUnpublishedPostsStore4(c);break;case b("PagesComposerActionsTypes").SHOW_OFFER_UPSELL:a&&a.$PagesComposerUnpublishedPostsStore5(c);break;case b("PagesComposerActionsTypes").ABANDON_OFFER_UPSELL:a&&a.$PagesComposerUnpublishedPostsStore6(c);break;case b("PagesComposerActionsTypes").SET_IS_REVIEWABLE_BRANDED_CONTENT:a&&a.$PagesComposerUnpublishedPostsStore7(c);break;case b("PagesComposerActionsTypes").CLEAR_COMPOSER_DATA:a&&a.$PagesComposerUnpublishedPostsStore8(c);break}});a=this}a.prototype.getBackdateConfig=function(a){"use strict";return this.getComposerData(a).backdateConfig};a.prototype.getIsDraft=function(a){"use strict";return this.getComposerData(a).isDraft};a.prototype.getIsReviewableBrandedContent=function(a){"use strict";return this.getComposerData(a).isReviewableBrandedContent};a.prototype.getScheduledPublishTime=function(a){"use strict";return this.getComposerData(a).scheduledPublishTime};a.prototype.getStopFeedDistributionTime=function(a){"use strict";return this.getComposerData(a).stopFeedDistributionDate};a.prototype.getIsAdsPost=function(a){"use strict";return this.getComposerData(a).isAdsPost};a.prototype.getIsOfferUpsellShown=function(a){"use strict";return this.getComposerData(a).isOfferUpsellShown};a.prototype.getIsOfferUpsellAbandoned=function(a){"use strict";return this.getComposerData(a).isOfferUpsellAbandoned};a.prototype.getOfferConfig=function(a){"use strict";return this.getComposerData(a).offerConfig};a.prototype.$PagesComposerUnpublishedPostsStore1=function(a){"use strict";var b=this.getComposerData(a.composerID);b.backdateConfig={year:a.year,month:a.month,day:a.day,hideFromNewsFeed:a.hideFromNewsFeed}};a.prototype.$PagesComposerUnpublishedPostsStore3=function(a){"use strict";var b=this.getComposerData(a.composerID);b.scheduledPublishTime=a.scheduleDate;b.stopFeedDistributionDate=a.stopFeedDistributionDate};a.prototype.$PagesComposerUnpublishedPostsStore2=function(a){"use strict";a=this.getComposerData(a.composerID);a.isDraft=!0};a.prototype.$PagesComposerUnpublishedPostsStore4=function(a){"use strict";a=this.getComposerData(a.composerID);a.isAdsPost=!0};a.prototype.$PagesComposerUnpublishedPostsStore5=function(a){"use strict";a=this.validateAction(a,["composerID","config"]);var b=a[0];a=a[1];var c=this.getComposerData(b);c.offerConfig=a;c.isOfferUpsellShown=!0;this.emitChange(b)};a.prototype.$PagesComposerUnpublishedPostsStore6=function(a){"use strict";a=this.getComposerData(a.composerID);a.isOfferUpsellAbandoned=!0};a.prototype.$PagesComposerUnpublishedPostsStore7=function(a){"use strict";a=this.getComposerData(a.composerID);a.isReviewableBrandedContent=!0};a.prototype.$PagesComposerUnpublishedPostsStore8=function(a){"use strict";this.clearComposerData(a.composerID)};e.exports=new a()}),null);
__d("PagesIntegrityLoggingActionType",["keyMirror"],(function(a,b,c,d,e,f){"use strict";e.exports=b("keyMirror")({INITIAL_LOAD:null,FAKE_NEWS_DIALOG_SHOWN:null,ADMIN_DID_SUBMIT_AFTER_FAKE_NEWS_DIALOG_SHOWN:null,ADMIN_DID_NOT_SUBMIT_AFTER_FAKE_NEWS_DIALOG_SHOWN:null,UNPUBLISHED_CONTENT_BANK_WARNING_DIALOG_SHOWN:null,ADMIN_DID_SUBMIT_AFTER_UNPUBLISHED_CONTENT_BANK_WARNING_DIALOG_SHOWN:null,ADMIN_DID_NOT_SUBMIT_AFTER_UNPUBLISHED_CONTENT_BANK_WARNING_DIALOG_SHOWN:null})}),null);
__d("PagesIntegrityLoggingActions",["AdsDataAtom","PagesIntegrityLoggingActionType"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){b("AdsDataAtom").handleUpdateFromInitialServer({type:b("PagesIntegrityLoggingActionType").INITIAL_LOAD,pageID:a})};c=function(){b("AdsDataAtom").handleUpdateFromViewAction({type:b("PagesIntegrityLoggingActionType").ADMIN_DID_NOT_SUBMIT_AFTER_FAKE_NEWS_DIALOG_SHOWN})};d=function(){b("AdsDataAtom").handleUpdateFromViewAction({type:b("PagesIntegrityLoggingActionType").ADMIN_DID_SUBMIT_AFTER_FAKE_NEWS_DIALOG_SHOWN})};f=function(){b("AdsDataAtom").handleUpdateFromViewAction({type:b("PagesIntegrityLoggingActionType").FAKE_NEWS_DIALOG_SHOWN})};var g=function(){b("AdsDataAtom").handleUpdateFromViewAction({type:b("PagesIntegrityLoggingActionType").ADMIN_DID_NOT_SUBMIT_AFTER_UNPUBLISHED_CONTENT_BANK_WARNING_DIALOG_SHOWN})},h=function(){b("AdsDataAtom").handleUpdateFromViewAction({type:b("PagesIntegrityLoggingActionType").ADMIN_DID_SUBMIT_AFTER_UNPUBLISHED_CONTENT_BANK_WARNING_DIALOG_SHOWN})},i=function(){b("AdsDataAtom").handleUpdateFromViewAction({type:b("PagesIntegrityLoggingActionType").UNPUBLISHED_CONTENT_BANK_WARNING_DIALOG_SHOWN})};e.exports={initializeLoggingStore:a,logFakeNewsDialogShown:f,logFakeNewsSubmitted:d,logFakeNewsNotSubmitted:c,logUnpublishedContentBankMatchNotSubmitted:g,logUnpublishedContentBankMatchSubmitted:h,logUnpublishedContentWarningDialogShown:i}}),null);
__d("PagesIntegrityLoggerEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({FAKE_NEWS_LINK_SHARE_WARNING_DIALOG_SHOWN:"FAKE_NEWS_LINK_SHARE_WARNING_DIALOG_SHOWN",FAKE_NEWS_LINK_SHARED_BY_ADMIN:"FAKE_NEWS_LINK_SHARED_BY_ADMIN",FAKE_NEWS_LINK_NOT_SHARED_BY_ADMIN:"FAKE_NEWS_LINK_NOT_SHARED_BY_ADMIN",FAKE_NEWS_LINK_SHARE_NOTIFICATION_SENT_TO_ADMIN:"FAKE_NEWS_LINK_SHARE_NOTIFICATION_SENT_TO_ADMIN",FAKE_NEWS_LINK_URI_TO_PAGE_NOTIFICATION_SENT_TO_ADMIN:"FAKE_NEWS_LINK_URI_TO_PAGE_NOTIFICATION_SENT_TO_ADMIN",UNPUBLISHED_CONTENT_BANK_WARNING_DIALOG_SHOWN:"UNPUBLISHED_CONTENT_BANK_WARNING_DIALOG_SHOWN",UNPUBLISHED_CONTENT_BANK_MATCH_POSTED_BY_ADMIN:"UNPUBLISHED_CONTENT_BANK_MATCH_POSTED_BY_ADMIN",UNPUBLISHED_CONTENT_BANK_MATCH_NOT_POSTED_BY_ADMIN:"UNPUBLISHED_CONTENT_BANK_MATCH_NOT_POSTED_BY_ADMIN",CONTEXT_EVERYWHERE_SHOWN_ON_DYNAMIC_HOVERCARD:"CONTEXT_EVERYWHERE_SHOWN_ON_DYNAMIC_HOVERCARD"})}),null);
__d("PagesIntegrityLoggerSurfaces",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({COMPOSER:"COMPOSER"})}),null);
__d("PagesIntegrityLoggingStore",["AdsDataAtom","FluxReduceStore","immutable","PagesIntegrityLoggerEvent","PagesIntegrityLoggerSurfaces","PagesIntegrityLoggingActionType","PagesIntegrityTypedLogger","uuid"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;g=babelHelpers.inherits(i,b("immutable").Record({composerPostSessionUUID:null,pageID:null}));g&&g.prototype;function i(){g.apply(this,arguments)}h=babelHelpers.inherits(a,b("FluxReduceStore"));h&&h.prototype;a.prototype.getInitialState=function(){return new i()};a.prototype.reduce=function(a,c){__p&&__p();c=c.action;switch(c.type){case b("PagesIntegrityLoggingActionType").INITIAL_LOAD:c=c.pageID;return a.set("composerPostSessionUUID",b("uuid")()).set("pageID",c);case b("PagesIntegrityLoggingActionType").FAKE_NEWS_DIALOG_SHOWN:return this.$PagesIntegrityLoggingStore1(b("PagesIntegrityLoggerEvent").FAKE_NEWS_LINK_SHARE_WARNING_DIALOG_SHOWN,a,!1);case b("PagesIntegrityLoggingActionType").ADMIN_DID_NOT_SUBMIT_AFTER_FAKE_NEWS_DIALOG_SHOWN:return this.$PagesIntegrityLoggingStore1(b("PagesIntegrityLoggerEvent").FAKE_NEWS_LINK_NOT_SHARED_BY_ADMIN,a,!0);case b("PagesIntegrityLoggingActionType").ADMIN_DID_SUBMIT_AFTER_FAKE_NEWS_DIALOG_SHOWN:return this.$PagesIntegrityLoggingStore1(b("PagesIntegrityLoggerEvent").FAKE_NEWS_LINK_SHARED_BY_ADMIN,a,!0);case b("PagesIntegrityLoggingActionType").UNPUBLISHED_CONTENT_BANK_WARNING_DIALOG_SHOWN:return this.$PagesIntegrityLoggingStore1(b("PagesIntegrityLoggerEvent").UNPUBLISHED_CONTENT_BANK_WARNING_DIALOG_SHOWN,a,!1);case b("PagesIntegrityLoggingActionType").ADMIN_DID_NOT_SUBMIT_AFTER_UNPUBLISHED_CONTENT_BANK_WARNING_DIALOG_SHOWN:return this.$PagesIntegrityLoggingStore1(b("PagesIntegrityLoggerEvent").UNPUBLISHED_CONTENT_BANK_MATCH_NOT_POSTED_BY_ADMIN,a,!0);case b("PagesIntegrityLoggingActionType").ADMIN_DID_SUBMIT_AFTER_UNPUBLISHED_CONTENT_BANK_WARNING_DIALOG_SHOWN:return this.$PagesIntegrityLoggingStore1(b("PagesIntegrityLoggerEvent").UNPUBLISHED_CONTENT_BANK_MATCH_POSTED_BY_ADMIN,a,!0);default:return a}};a.prototype.$PagesIntegrityLoggingStore1=function(event,a,c){new(b("PagesIntegrityTypedLogger"))().setEvent(event).setPageID(a.get("pageID")).setPostSessionUuid(a.get("composerPostSessionUUID")).setPageSurface(b("PagesIntegrityLoggerSurfaces").COMPOSER).log();return c?a.set("composerPostSessionUUID",b("uuid")()):a};function a(){h.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("XAfterPartyWWWController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/afterparty/www/",{page_id:{type:"Int",required:!0},scrolling_offset:{type:"Int",defaultValue:0}})}),null);
__d("XUnpublishedPostSuccessController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/unpublished_posts/post_success/",{type:{type:"String",required:!0}})}),null);
__d("PagesComposer",["csx","cx","ActorURI","AdsDataAtom","Arbiter","AsyncRequest","Bootloader","ComposerXMarauderLogger","ComposerXStore","DOM","PagesComposerUnpublishedPostsStore","PagesIntegrityLoggingActions","PagesIntegrityLoggingStore","Parent","ReactComposerFocusStore","ReactPagesComposerGlobalFlags","ReloadPage","Run","XAfterPartyWWWController","XUnpublishedPostSuccessController","$","getObjectValues","goURI"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=500,j=20,k=58,l=void 0,m=void 0;function n(){b("ComposerXMarauderLogger").logCompleted(l.id)}function o(a){__p&&__p();if(a.hidePost){var c=b("ComposerXStore").getAllForComposer(l.id);if(!b("getObjectValues")(c).length){var d=null;b("PagesComposerUnpublishedPostsStore").getIsDraft(l.id)&&(d="draft");b("PagesComposerUnpublishedPostsStore").getScheduledPublishTime(l.id)&&(d="scheduled");if(d){d=b("XUnpublishedPostSuccessController").getURIBuilder().setString("type",d).getURI();d=b("ActorURI").create(d,m);new(b("AsyncRequest"))().setURI(d).send()}}n();return}if(a.redirect){var c=b("ComposerXStore").getAllForComposer(l.id);b("getObjectValues")(c).forEach(function(a){a.reset&&a.reset(a)});b("goURI")(a.redirect);n();return}if(!a.streamStory){d=q();if(d)return;b("ReloadPage").now();return}if(a.backdatedTime){b("Bootloader").loadModules(["PagesStoryPublisher"],function(b){b.publish(a)},"PagesComposer");n();return}c=r.renderStory(l,a.streamStory);b("Arbiter").inform("TimelineComposer/on_after_publish",c,b("Arbiter").BEHAVIOR_PERSISTENT);if(m){d=b("XAfterPartyWWWController").getURIBuilder().setInt("page_id",m);p(d,0)}n()}function p(a,c){!b("ReactComposerFocusStore").isComposerFocused(l.id)?(c>0&&a.setInt("scrolling_offset",k),new(b("AsyncRequest"))().setURI(a.getURI()).send()):c<j&&setTimeout(p.bind(this,a,c+1),i)}function q(){var a=!1;b("Bootloader").loadModules(["ReactComposerTaggerStore","ReactComposerTaggerType"],function(b,c){var d=b.getTaggerData(l.id,c.SPONSOR);b=b.getTaggersConfig(l.id,c.SPONSOR);d&&d.sponsors&&d.sponsors.length>0&&b&&b.showBCMPPostPostModal&&(a=!0)},"PagesComposer");return a}var r={init:function(a,c){l=b("$")(a);m=c;a=b("Arbiter").subscribe("composer/publish",function(event,a){a.composer_id===l.id&&o(a)});b("Run").onLeave(a.unsubscribe.bind(a));b("ReactPagesComposerGlobalFlags").setIsPagesComposer(!0);b("AdsDataAtom").explicitlyRegisterStore(b("PagesIntegrityLoggingStore"));b("PagesIntegrityLoggingActions").initializeLoggingStore(c)},renderStory:function(a,c){a=b("Parent").bySelector(a,"#pagelet_timeline_main_column");if(!a)return;a=b("DOM").scry(a,"._5sem")[0];var d=b("DOM").setContent(a,c)[0];b("Bootloader").loadModules(["Animation"],function(a){new a(d).from("backgroundColor","#fff8dd").to("backgroundColor","#fff").duration(2e3).ease(a.ease.both).go()},"PagesComposer");return d},replaceByID:function(a,c){b("DOM").replace(b("$")(a),c)}};e.exports=a.PagesComposer||r}),null);
__d("StoryProfile.react",["cx","BackgroundImage.react","FBProfilePhotoShadow.react","Image.react","ImageBlock.react","InlineBlock.react","Link.react","PrivacyConst","React","XUIGrayText.react","XUIText.react","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$1=function(){var a=null;if(this.props.privacyIndicator)a=this.props.privacyIndicator;else if(this.props.privacySetting){var c=this.props.privacySetting==b("PrivacyConst").BaseValue.EVERYONE,d=this.props.privacySetting==b("PrivacyConst").BaseValue.ALL_FRIENDS;a=b("React").createElement(b("BackgroundImage.react"),{width:13,height:12,"data-hover":"tooltip","data-tooltip-content":this.props.privacyTooltip,className:"_14g-"+(c?" _14g_":"")+(d?" _5qhp":"")+(!d&&!c?" _14h0":"")})}return!a?null:b("React").createElement("span",null,b("React").createElement(b("XUIGrayText.react"),{shade:"light",size:"meta1",display:"inline"},"\xa0\xb7\xa0"),a)}.bind(this),this.$2=function(){__p&&__p();var a,c;if(this.props.profileURL){var d;this.props.openProfileURLInNewPage&&(d="_blank");c="bold";a=b("React").createElement(b("Link.react"),{href:this.props.profileURL,target:d},this.props.username)}else a=this.props.username;if(this.props.description)return b("React").createElement("div",null,b("React").createElement(b("XUIText.react"),{className:"_14gz",size:"header4",weight:c},a)," ",this.props.description);else return b("React").createElement(b("XUIText.react"),{className:"_14gz",size:"header4",weight:c,display:"block"},a)}.bind(this),this.$3=function(){return this.props.additionalLinks?b("React").createElement(b("XUIGrayText.react"),{shade:"light",size:"meta1",display:"inline"},this.props.additionalLinks.map(function(a,c){return b("React").createElement("span",{key:c},"\xa0\xb7\xa0",b("React").createElement(b("Link.react"),{href:a.URL,target:"_blank"},a.text))})):null}.bind(this),c}a.prototype.render=function(){"use strict";return b("React").createElement(b("ImageBlock.react"),{spacing:"medium",className:b("joinClasses")(this.props.className,"_56-3")},this.props.profilePicture?b("React").createElement(b("FBProfilePhotoShadow.react"),null,b("React").createElement(b("Image.react"),{className:"_56-4",src:this.props.profilePicture})):b("React").createElement("span",null),b("React").createElement(b("InlineBlock.react"),{alignv:"middle",height:40,fullWidth:!0},this.$2(),b("React").createElement("div",null,b("React").createElement(b("XUIGrayText.react"),{shade:"light",size:"meta1",display:"inline"},this.props.uploadTime),this.$1(),this.$3())))};a.propTypes={privacySetting:c.number,privacyIndicator:c.object,profilePicture:c.string,privacyTooltip:c.node,username:c.string.isRequired,uploadTime:c.node.isRequired,profileURL:c.string,openProfileURLInNewPage:c.bool,additionalLinks:c.arrayOf(c.shape({URL:c.string,text:c.node})),description:c.node};a.defaultProps={openProfileURLInNewPage:!1};e.exports=a}),null);
__d("VideoUploadProgressUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=99.8;a={isEncodingFinished:function(a){return a==="finish"},getOptimizedProgress:function(a,b,c,d,e){__p&&__p();if(!e)return{progress:Math.max(b,a.progress),progressWithoutFake:a.progressWithoutFake};e={progress:b,progressWithoutFake:a.progressWithoutFake};var f=a.progress+b;if(!(b>0)||d>0&&f>d){e.progress=-1;return e}f=Number(f.toFixed(1));c==="finish"||c==="notify"?f=100:f>=100&&(f=a.progress<100?a.progress:g);e.progress=f;e.progressWithoutFake=f;return e},getUpdatedProgress:function(a,b){var c={progress:b.progress,progressWithoutFake:b.progressWithoutFake};a.obj.cached_progress&&b.progress<a.obj.cached_progress&&(c={progress:a.obj.cached_progress,progressWithoutFake:a.obj.cached_progress});b=this.getOptimizedProgress(c,a.obj.progress,a.obj.stage,a.obj.max_percent?a.obj.max_percent:0,a.obj.sve_report);b.progress!==-1&&(c.progress=b.progress);c.progressWithoutFake=b.progressWithoutFake;return c}};e.exports=a}),null);
__d("glyph",[],(function(a,b,c,d,e,f){e.exports=function(a){throw new Error("glyph: Unexpected glyph call.")}}),null);
__d("XVideoGenerateStoryController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/generate_story/",{video_id:{type:"Int"},feed_location:{type:"Enum",enumType:0},timeline_identifier:{type:"String"}})}),null);