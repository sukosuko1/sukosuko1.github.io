if (self.CavalryLogger) { CavalryLogger.start_js(["Itfep"]); }

__d("LoggedInAccountSwitcherEvents",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ADD_ACCOUNT:"add_account",CLOSE_BLUEBAR_DIALOG:"close_bluebar_dialog",OPEN_BLUEBAR_DIALOG:"open_bluebar_dialog",REMOVE_ACCOUNT:"remove_account",SWITCH_ACCOUNT:"switch_account",SWITCH_WORKPLACE:"switch_workplace"})}),null);
__d("LoggedInAccountSwitcherSurfaces",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({BLUEBAR:"bluebar"})}),null);
__d("LoggedInAccountSwitcherTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:LoggedInAccountSwitcherLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:LoggedInAccountSwitcherLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:LoggedInAccountSwitcherLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setBadgeHasCount=function(a){this.$1.badge_has_count=a;return this};a.prototype.setBadgeShown=function(a){this.$1.badge_shown=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setSurface=function(a){this.$1.surface=a;return this};a.prototype.setUsersCount=function(a){this.$1.users_count=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};c={badge_has_count:!0,badge_shown:!0,event:!0,surface:!0,users_count:!0,vc:!0};e.exports=a}),null);
__d("XLoggedInAccountSwitcherBlueBarBadgeController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/logged_in_account_switcher/badge/",{})}),null);
__d("XLoggedInAccountSwitcherBlueBarContentController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/logged_in_account_switcher/content/",{})}),null);
__d("XLoginAccountSelectorRemoveAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/login/device-based/async/remove/",{cuid:{type:"String"},flow:{type:"Enum",enumType:1}})}),null);
__d("LoggedInAccountSwitcher",["csx","cx","Arbiter","AsyncRequest","CSS","DOM","DOMQuery","Event","LoggedInAccountSwitcherEvents","LoggedInAccountSwitcherSurfaces","LoggedInAccountSwitcherTypedLogger","ServiceWorkerLoginAndLogout","XLoggedInAccountSwitcherBlueBarBadgeController","XLoggedInAccountSwitcherBlueBarContentController","XLoginAccountSelectorRemoveAsyncController","setImmediate"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i="logged_in_account_switcher:remove_account",j=void 0,k=void 0,l=void 0,m=void 0,n=void 0,o=void 0;({});var p={shown:!1,has_count:!1};a={initBlueBarSwitcher:function(a,c,d,e,f){k=a,m=c,n=d,o=e,this._initDialog(a,d),this._mousemoveListener=b("Event").listen(k,"mousemove",this._onBlueBarMouseMove.bind(this)),f||b("setImmediate")(this._loadBadge)},_loadBadge:function(){var a=b("XLoggedInAccountSwitcherBlueBarBadgeController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(a).setMethod("POST").setRelativeTo(k).send()},_onBlueBarMouseMove:function(){this._mousemoveListener.remove(),this._loadDialogContentIfNeeded()},_loadDialogContentIfNeeded:function(){if(!l){l=!0;var a=b("XLoggedInAccountSwitcherBlueBarContentController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(a).setMethod("POST").setRelativeTo(k).send()}},onBlueBarSwitcherLoad:function(){b("setImmediate")(function(){n.setInnerContent(m.children[0]),b("DOM").empty(m)})},initTile:function(a){a=b("DOMQuery").find(a,"._62l4");a&&this.initElementContainingForm(a,b("LoggedInAccountSwitcherEvents").SWITCH_ACCOUNT)},initRemoveAccountElement:function(a,c,d,e){var f=b("Arbiter").subscribe(i,function(a,e){e.cuid===d&&(b("DOM").remove(c),f.unsubscribe())});b("Event").listen(a,"click",function(a){a.stopPropagation();j||(j=!0,this._removeUserFromAccountSwitcher(d,e));return!1}.bind(this))},initElementContainingForm:function(a,c){b("Event").listen(a,"click",function(d){d.stopPropagation();d.preventDefault();if(!j){d=b("DOMQuery").find(a,"form");d&&(this._logEvent(c,b("LoggedInAccountSwitcherSurfaces").BLUEBAR),j=!0,b("Event").fire(d,"submit"),d.submit(),b("ServiceWorkerLoginAndLogout").logout())}}.bind(this))},_initDialog:function(a,c){c.subscribe("hide",function(){b("CSS").removeClass(k,"_1dqw"),this._logEvent(b("LoggedInAccountSwitcherEvents").CLOSE_BLUEBAR_DIALOG,b("LoggedInAccountSwitcherSurfaces").BLUEBAR),this._clearBadge()}.bind(this)),c.subscribe("show",function(){b("CSS").addClass(k,"_1dqw"),this._clearBadge(),this._hideNux()}.bind(this)),b("Event").listen(a,"click",function(){this._logEvent(b("LoggedInAccountSwitcherEvents").OPEN_BLUEBAR_DIALOG,b("LoggedInAccountSwitcherSurfaces").BLUEBAR),this._loadDialogContentIfNeeded(),c.show()}.bind(this))},_hideNux:function(){o!=null&&o.hide()},_clearBadge:function(){var a=b("DOMQuery").scry(k,"._1dqx")[0];a!=null&&b("DOM").empty(a);p={shown:!1,has_count:!1}},_logEvent:function(event,a){var c=new(b("LoggedInAccountSwitcherTypedLogger"))();a===b("LoggedInAccountSwitcherSurfaces").BLUEBAR&&c.setBadgeShown(p.shown);c.setEvent(event).setSurface(a).log()},_removeUserFromAccountSwitcher:function(a,c){this._logEvent(b("LoggedInAccountSwitcherEvents").REMOVE_ACCOUNT,c);c=b("XLoginAccountSelectorRemoveAsyncController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(c).setData({cuid:a,flow:"logged_in_account_switcher"}).setMethod("POST").setHandler(function(){j=!1}).send();b("Arbiter").inform(i,{cuid:a})}};e.exports=a}),null);
__d("InternalNotificationOptionHandler",["invariant","AsyncDialog","URI","idx"],(function(a,b,c,d,e,f,g){__p&&__p();function a(a,c,d){__p&&__p();var e;e=(e=c)!=null?(e=e.client_info)!=null?e.action_type:e:e;if(e==="REPORT_BUG"){d=new(b("URI"))("/ajax/bugs/employee_report").setQueryData({client_notifs:JSON.stringify(d()),notif_alert_id:a});b("AsyncDialog").bootstrap(d.toString(),null,"dialog");return!0}else if(e==="OPEN_IN_INSPECTOR"){d=(a=c)!=null?(a=a.option_display)!=null?(a=a.subtext)!=null?a.text:a:a:a;d!=null||g(0);window.open(d,"_blank");return!0}return!1}e.exports={tryHandle:a}}),null);