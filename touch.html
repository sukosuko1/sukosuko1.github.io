<!DOCTYPE html>
<html>
<head>
<meta name="apple-mobile-app-capable" content="yes"/>
<meta name="viewport" content="width=device-width, initial-scale=1, , maximum-scale=1.0, user-scalable=no">
<meta name="viewport" content="minimum-scale=1.0,
                                   width=device-width,
                                   height=device-height,
                                   user-scalable=no">
                                   
<title>pixi.js example 1</title>
	<style>
		body {
			margin: 0;
			padding: 0;
			background-color: #440022;
		}
		.coverCanvas { position:absolute; z-index:3; opacity:1.0; width:100%; height:100%; }
		
		h1    {color: white;}
	</style>

<script src="pixi.min.js"></script>
  <script>  
  
  var touchable;
  var startX, startY;
  var output;
  var mouseX, mouseY;
  

  console.log("text1");
//  console.log(PIXI); 
  var myCanvas = document.getElementById("myCanvas");

  function init() {
    console.log("initing...");
//     touchable = 'createTouch' in document;
     touchable = true;
     output = document.getElementById('t1');
     output = document.getElementById('t2');
     
     if (touchable) {
     	 console.log("touchable");
//       document.addEventListener('touchstart', onTouchStart, false);
        document.addEventListener('touchmove', onTouchMove, false);
        document.addEventListener('touchend', onTouchEnd, false);
        myCanvas.addEventListener('touchmove', onTouchMove, false);
    }
    document.addEventListener('mousemove', onMouseMove);
    
  }
  var n = 0;
  function onTouchMove(e) {
            if (!e) {
            e.preventDefault();
            mouseX  = e.touches[0].screenX;  //list of touch... for i = 0; i < touches.length..
            mouseY = e.touches[0].screenY;
            update();
            }
            console.log(n);
            n=n+1;
   }
  function onTouchEnd(e) {
            e.preventDefault();
            mouseX  = e.touches[0].screenX;  //list of touch... for i = 0; i < touches.length..
            mouseY = e.touches[0].screenY;
            output2.innerHTML = "Kaboom! " + mouseX + " " + mouseY;
   }
   
  function onMouseMove(e) {
            e.preventDefault();
            mouseX  = e.screenX;  //list of touch... for i = 0; i < touches.length..
            mouseY = e.screenY;
            update();
            
            console.log(n);
            n=n+1;
   }
   
   function update() {
      output.innerHTML = mouseX + "/" + mouseY + "<br/>next line";
   }
   </script>
   

</head>

<body onload="init()">
  <h1 id="t1">Hello World</h1>
  <h1 id="t2">Hello World</h1>
  <div id="outerbox">
    <canvas id="myCanvas" class="coverCanvas" value="transparent"></canvas>
  </div>




</body>
</html>
