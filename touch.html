<!DOCTYPE html>
<html>
<head>
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black"> 

<meta name="HandheldFriendly" content="true" />
<meta name="viewport" content="minimum-scale=1.0,
                                   width=device-width,
                                   height=device-height,
                                   user-scalable=no, minimal-ui">
                                   
                                   
<title>pixi.js example 1</title>
	<style>
		body {
			margin: 0;
			padding: 0;
			background-color: #440022;
		}
		.coverCanvas {  z-index:3; opacity:1.0; width:100px; height:100px; background-color: #44AA22;}
		
		h1    {color: white;}
		
	#orientation {
    width:100%;
    height:100%;
    position:fixed;
    top:0px;
    left:0px;
    background-color:white;
    background-image:url('../images/playportrait.png');
    background-repeat:no-repeat;
    background-position: center center;
    display:none;
	}
		
	</style>

<script src="pixi.min.js"></script>
  <script>  
  
  var touchable;
  var startX, startY;
  var output,output2, output3;
  var mouseX, mouseY;
  

  console.log("text1");
//  console.log(PIXI); 

  function init() {
    console.log("initing...");
//     touchable = 'createTouch' in document;
     touchable = true;
     output = document.getElementById('t1');
     output2 = document.getElementById('t2');
     output3 = document.getElementById('t3');
     
  var myCanvas = document.getElementById("myCanvas");
  
     if (touchable) {
     	 console.log("touchable");
//       document.addEventListener('touchstart', onTouchStart, false);
        document.addEventListener('touchmove', onTouchMove, false);
        document.addEventListener('touchend', onTouchEnd, false);
        myCanvas.addEventListener('touchmove', onTouchMove, false);
        myCanvas.addEventListener('touchend', onTouchEnd, false);
    }
    document.addEventListener('mousemove', onMouseMove);
    
  }
  var n = 0;
  function onTouchMove(e) {
            e.preventDefault();
            mouseX  = e.touches[0].screenX;  //list of touch... for i = 0; i < touches.length..
            mouseY = e.touches[0].screenY;
            update();
            console.log(n);
            n=n+1;
    }
  function onTouchEnd(e) {
            output3.innerHTML = "set";
            
            e.preventDefault();
            mouseX  = e.changedTouches[0].screenX;  //list of touch... for i = 0; i < touches.length..
            mouseY = e.changedTouches[0].screenY;
            var d = new Date();
            output2.innerHTML = output2.innerHTML + ", "  + mouseX + " " + mouseY + " " + d + "<br/>";
   }
   
  function onMouseMove(e) {
            e.preventDefault();
            mouseX  = e.screenX;  //list of touch... for i = 0; i < touches.length..
            mouseY = e.screenY;
            update();
            
            console.log(n);
            n=n+1;
   }
   
   function update() {
      output.innerHTML = mouseX + "/" + mouseY + "<br/>next line";
   }
   </script>
   

</head>

<body onload="init()">
  <h1 id="t1">Hello World</h1>
  <h1 id="t2">Hello World</h1>
  <h1 id="t3">Hello World</h1>
  <div id="outerbox">
    <canvas id="myCanvas" class="coverCanvas"></canvas>
  </div>




</body>
</html>
