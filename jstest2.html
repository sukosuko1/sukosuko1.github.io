<thml>
<head>
</head>
<body>
	<canvas width=630 height=600></canvas>
</body>

<script>
var ctx = document.querySelector("canvas").getContext("2d"),
    dashLen = 220, dashOffset = dashLen, speed = 1,
    txt = "STROKE-ON CANVAS", x = 30, i = 0;

ctx.font = "50px Comic Sans MS, cursive, TSCu_Comic, sans-serif"; 
ctx.lineWidth = 5; ctx.lineJoin = "round"; ctx.globalAlpha = 2/3;
ctx.strokeStyle = ctx.fillStyle = "#1f2f90";

(function loop() {
  ctx.clearRect(0, 0, 660, 350);

var gradient=ctx.createLinearGradient(0,0,100,0);
gradient.addColorStop("0","magenta");
gradient.addColorStop("0.5","blue");
gradient.addColorStop("1.0","red");
// Fill with gradient
ctx.strokeStyle=gradient;
	
	
  dashOffset -= speed;                                         // reduce dash length
	
  const str1 = "amazing demo animated text";
  x = 30;
	
  for (let i = 0; i < str1.length; i++) {
//  ctx.font = "50px Comic Sans MS, cursive, TSCu_Comic, sans-serif"; 
  ctx.font = ""  + (50 + 30 * (1 - dashOffset/dashLen)) + "px Comic Sans MS, cursive, TSCu_Comic, sans-serif"; 
	  ctx.setLineDash([100,10 + 300 * dashOffset/dashLen]); // create a long dash mask
	  ctx.strokeStyle = "10px";
		ctx.strokeStyle = 'pink';
ctx.strokeStyle=gradient;
	  ctx.strokeText(str1[i], x, 90); 
	  
	  	tdashOffset = dashOffset - dashLen * 0.5;
	  if (tdashOffset < 0) tdashOffset += dashLen;
	  
  ctx.font = ""  + (50 + 30 * (1 - tdashOffset/dashLen)) + "px Comic Sans MS, cursive, TSCu_Comic, sans-serif"; 
	  ctx.setLineDash([100,10 + 300 * tdashOffset/dashLen]); // create a long dash mask
	  ctx.strokeStyle = "10px";
		ctx.strokeStyle = 'pink';
ctx.strokeStyle=gradient;
	  ctx.strokeText(str1[i], x, 90); 
	  
	  ctx.font = "40px Comic Sans MS, cursive, TSCu_Comic, sans-serif"; 
	  ctx.strokeStyle = 'blue';
	  ctx.setLineDash([]);
	  ctx.strokeText(str1[i], x, 90);                               

	  x += ctx.measureText(str1[i]).width + ctx.lineWidth;
  }
	
   		ctx.fillText("test" + dashOffset, 0,150);
	
	
//    ctx.setTransform(1, 0, 0, 1, 0, 3 * Math.random());        // random y-delta
//    ctx.rotate(Math.random() * 0.005);                         // random rotation
	
	if (dashOffset < 0) dashOffset = dashLen;
	
  requestAnimationFrame(loop);
	  
})();
	
</script>

	
</thml>
